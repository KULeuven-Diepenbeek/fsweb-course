<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/fsweb-course/livereload.js?mindelay=10&amp;v=2&amp;port=54288&amp;path=fsweb-course/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.143.1">
    <meta name="description" content="">
<meta name="author" content="map[email:&lt;i&gt;fname&lt;/i&gt;.&lt;i&gt;lname&lt;/i&gt;A T&lt;i&gt;kuleuven.be&lt;/i&gt; name:Arne Duyver]">

    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>Laravel: basics :: Full Stack Web Development</title>

    
    <link href="../../css/nucleus.css?1742992144" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1742992144" rel="stylesheet">
    <link href="../../css/hybrid.css?1742992144" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1742992144" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1742992144" rel="stylesheet">
    <link href="../../css/auto-complete.css?1742992144" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1742992144" rel="stylesheet">
    <link href="../../css/theme.css?1742992144" rel="stylesheet">
    <link href="../../css/autonumbering.css?1742992144" rel="stylesheet">
    <link href="../../css/devselector.css?1742992144" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1742992144" rel="stylesheet">
    <link href="../../css/theme-kul.css?1742992144" rel="stylesheet">
    

    <script src="../../js/jquery-3.3.1.min.js?1742992144"></script>
    <script src="../../js/devselector.js?1742992144"></script>
    <script id="MathJax-script" async
            src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
    </script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="../../backend/laravel_basics/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a href="https://www.kuleuven.be/kuleuven/" target="_blank">
  <img src="../../images/kul.png" alt="KU Leuven" /><br/>
</a>
<a href="https://www.uhasselt.be/" target="_blank">
  <img src="../../images/uhasselt.svg" alt="UHasselt" id="uhlogo" />
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1742992144"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1742992144"></script>
<script type="text/javascript">
    
        var baseurl = "http:\/\/localhost:54288\/fsweb-course\/";
    
</script>
<script type="text/javascript" src="../../js/search.js?1742992144"></script>

    
  </div>

    <div class="highlightable">

      <h3><a href="../../">Course Contents</a></h3>
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/introductie/" title="Introductie" class="dd-item
        
        
        
        ">
      <a href="../../introductie/">
          Introductie
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/frontend/" title="Frontend" class="dd-item
        
        
        
        ">
      <a href="../../frontend/">
          Frontend
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/frontend/html_basics/" title="HTML" class="dd-item ">
        <a href="../../frontend/html_basics/">
        HTML
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/frontend/css_basics/" title="CSS" class="dd-item ">
        <a href="../../frontend/css_basics/">
        CSS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/frontend/css_advanced/" title="Advanced CSS" class="dd-item ">
        <a href="../../frontend/css_advanced/">
        Advanced CSS
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/frontend/javascript_basics/" title="JavaScript" class="dd-item ">
        <a href="../../frontend/javascript_basics/">
        JavaScript
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/frontend/responsive_design/" title="Responsive Design" class="dd-item ">
        <a href="../../frontend/responsive_design/">
        Responsive Design
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/frontend/creative_coding/" title="Creative coding" class="dd-item ">
        <a href="../../frontend/creative_coding/">
        Creative coding
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/frontend/extra/" title="Extra" class="dd-item ">
        <a href="../../frontend/extra/">
        Extra
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/backend/" title="Backend" class="dd-item
        parent
        
        
        ">
      <a href="../../backend/">
          Backend
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/backend/php_basics/" title="PHP: Hypertext Preprocessing" class="dd-item ">
        <a href="../../backend/php_basics/">
        PHP: Hypertext Preprocessing
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/backend/php_oop/" title="OOP in PHP" class="dd-item ">
        <a href="../../backend/php_oop/">
        OOP in PHP
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/backend/laravel_basics/" title="Laravel: basics" class="dd-item active">
        <a href="../../backend/laravel_basics/">
        Laravel: basics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/backend/laravel_cheatsheet/" title="Laravel Cheatsheet" class="dd-item ">
        <a href="../../backend/laravel_cheatsheet/">
        Laravel Cheatsheet
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/extra/" title="Extra" class="dd-item
        
        
        
        ">
      <a href="../../extra/">
          Extra
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/extra/webdevelopmenttools/" title="Web development tools" class="dd-item ">
        <a href="../../extra/webdevelopmenttools/">
        Web development tools
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/extra/websecurity/" title="Security (enkele voorbeelden)" class="dd-item ">
        <a href="../../extra/websecurity/">
        Security (enkele voorbeelden)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/opdracht/" title="Opdracht" class="dd-item
        
        
        
        ">
      <a href="../../opdracht/">
          Opdracht
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li>
                  <a class="padding" href="https://studiegidswww.uhasselt.be/opleidingsonderdeel.aspx?a=2025&amp;i=4891"><i class='fa fa-university'></i> Studiegids</a>
              </li>
          
              <li>
                  <a class="padding" href="https://toledo.kuleuven.be/portal/"><i class='fa fa-university'></i> Toledo</a>
              </li>
          
              <li>
                  <a class="padding" href="https://github.com/kuleuven-diepenbeek/fsweb-course/"><i class='fab fa-github'></i> Course Git Repository</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'>Index</a> > <a href='../../backend/'>Backend</a> > Laravel: basics
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
  <div class="wrapper toc"><nav id="TableOfContents">
  <ol>
    <li><a href="#why-laravel">Why Laravel?</a></li>
    <li><a href="#handige-vscode-plugins-voor-laravel">Handige VSCode plugins voor Laravel</a></li>
    <li><a href="#install-laravel">Install Laravel</a>
      <ol>
        <li>
          <ol>
            <li></li>
          </ol>
        </li>
        <li><a href="#laravel-project-structure">Laravel project structure</a>
          <ol>
            <li><a href="#routes-webphp">Routes: web.php</a></li>
            <li><a href="#views-bladephp">Views: blade.php</a></li>
            <li><a href="#components">Components</a></li>
          </ol>
        </li>
        <li><a href="#dump-var_dump-en-dd">dump(), var_dump() en dd()</a></li>
      </ol>
    </li>
    <li><a href="#laravel-mvc-en-database">Laravel MVC en Database</a>
      <ol>
        <li><a href="#controllers">Controllers</a></li>
        <li><a href="#database">Database</a></li>
        <li><a href="#models">Models</a></li>
        <li><a href="#migration-tables">Migration tables</a></li>
        <li><a href="#api-routes-controller">Api routes: Controller</a>
          <ol>
            <li><a href="#een-simpele-crud-application">Een simpele CRUD application</a></li>
          </ol>
        </li>
      </ol>
    </li>
  </ol>
</nav></div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Laravel: basics
            </h1>
          

        

        





<article class='content'>
<h2 id="why-laravel">Why Laravel?</h2>
<ul>
<li>framework -&gt; templates
<ul>
<li>faster</li>
<li>libraries</li>
<li>MVC model</li>
<li>very popular option -&gt; a lot of information</li>
</ul>
</li>
<li>more secure -&gt; because php is datasensitive
<ul>
<li>built-in security features</li>
<li>automatic integration with database</li>
</ul>
</li>
</ul>
<h2 id="handige-vscode-plugins-voor-laravel">Handige VSCode plugins voor Laravel</h2>
<ul>
<li><a href="https://marketplace.visualstudio.com/items?itemName=bmewburn.vscode-intelephense-client">PHP Intelephense</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=onecentlin.laravel-blade">Laravel Blade Snippets</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=onecentlin.laravel-extension-pack">Laravel Extension Pack</a></li>
</ul>
<h2 id="install-laravel">Install Laravel</h2>
<p><strong><em>De documentatie waar je met al je vragen terecht kan is <a href="https://laravel.com/docs/12.x/readme">hier</a></em></strong></p>
<h5 id="edit-phpini-file">Edit php.ini file</h5>
<p><br><strong>line 962</strong>
uncomment (delete semicolon in fromt) extention=zip
<br><strong>line 930</strong>
uncomment extention=fileinfo
<br><strong>line 942</strong>
uncomment extention=openssl
<br><strong>line 944</strong>
uncomment extention=pdo_mysql</p>
<h5 id="add-phpexe-to-path-variables-new-system-variable">Add php.exe to path variables (new system variable)</h5>
<p>name: PHP <br>
location: C:\xampp\php</p>
<h5 id="add-dependency-manager-composerhttpsgetcomposerorgdownload">Add dependency manager: <a href="https://getcomposer.org/download/">Composer</a></h5>
<p>download .exe <br></p>
<!-- add to path: C:\ProgramData\ComposerSetup\bin -->
<h5 id="install-laravel-using-composer">Install Laravel using Composer</h5>
<p>Met volgende commando kan je Laravel installeren
<code>$ composer global require laravel/installer</code></p>

<div class="notices info" ><p><strong>Composer</strong> is een dependency manager voor PHP, die helpt bij het beheren van de externe libraries en pakketten die een project nodig heeft. Composer zorgt ervoor dat alle benodigde dependencies automatisch worden gedownload en bijgewerkt. Het maakt het eenvoudig om nieuwe pakketten toe te voegen en bestaande pakketten te beheren, wat bijdraagt aan een gestroomlijnde en georganiseerde ontwikkelomgeving.</p>
</div>

<h5 id="create-laravel-project-in-your-project-folder">Create laravel project in your project folder</h5>
<p>Wanneer laravel correct geinstalleerd is kan je simpelweg een nieuw project aanmaken met:
<code>$ laravel new &lt;projectName&gt;</code>. Hierbij kiezen we dan voor de volgende functies:</p>
<pre tabindex="0"><code>starterkit -&gt; none
Pest -&gt; 0 (testing framework, PHPUnit is ouder) 
Git -&gt; no 

db -&gt; mysql (via XAMPP)
default database migrations -&gt; yes (make sure MySQL server is turned on in XAMPP)
</code></pre><p>Indien het aanmaken van je Laravel project slaagt zonder errors kan je Laravel een lokale server laten draaien op poort 8000 om je website te testen met het commando:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php artisan serve
</span></span></code></pre></div><p>output:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>PS C:<span style="color:#8045ff">\x</span>ampp<span style="color:#8045ff">\h</span>tdocs<span style="color:#8045ff">\d</span>ashboard<span style="color:#8045ff">\l</span>aravel-demo1&gt; php artisan serve             
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   INFO  Server running on <span style="color:#f92672">[</span>http://127.0.0.1:8000<span style="color:#f92672">]</span>.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  Press Ctrl+C to stop the server
</span></span></code></pre></div>
<div class="notices info" ><p><strong>Artisan</strong> is de command-line interface van Laravel, ontworpen om ontwikkelaars te helpen bij het uitvoeren van veelvoorkomende taken zoals het genereren van boilerplate code, het migreren van databases, en het beheren van applicatieconfiguraties.</p>
</div>

<h3 id="laravel-project-structure">Laravel project structure</h3>
<p>Laravel maakt voor jou al een heel deel files en folders aan. Enkele van de belangrijkste zijn:</p>
<ul>
<li>de views in <code>/resources/views</code>: genaamd <code>.blade.php</code>-files. Dit zijn speciale PHP files zodat we op een makkelijke manier andere files erin kunnen includen en onze HTML-code kunnen opsplitsen en meerdere files. Ook kan je met speciale blade syntax aan dataverwerking doen. Zo kan je bijvoorbeeld voor een lijst van users voor elke user de usernaam laten tonen met een <code>@for</code>-loop.</li>
<li>de <code>web.php</code>-file in <code>/routs</code>. Hierin zal je alle endpoints specifiek moeten vermelden. In tegenstelling tot een simpel php-project worden nu standaard alle files onbeschikbaar gemaakt via de frontend voor de eindgebruiker. Stel dat je dus een <code>helloworld.blade.php</code>-view hebt kan je als eindgebruiker toch niet aan deze view geraken met <code>http://www.mijnwebsite.be/helloworld</code>. Wil je dat <code>/helloworld</code> toch beschikbaar is als endpoint dan moet je hier specifiek een entry voor aanmaken in de <code>web.php</code>-file.</li>
<li>de <code>public</code>-folder: Hierin moeten alle files komen die beschikbaar moeten zijn vanuit de frontend bijvoorbeeld CSS-files, JavaScript files, afbeeldingen &hellip; (Je kan aan de bestanden van de folder geraken door <code>{{ asset('&lt;file_in_de_public_folder&gt;') }}</code> te gebruiken in je <code>.blade.php</code> files bijvoorbeeld)</li>
<li>de <code>.env</code>-file. Hier plaats je een aantal standaard waarden zodat je in andere delen van de applicatie naar deze file kan verwijzen om de correcte waarde te krijgen. Zo kan je de naam van je app ingeven als de <code>APP_NAME</code> environment variable en dit dan gebruiken met <code>env(&quot;APP_NAME&quot;)</code>. Zo kan je op één plaats (namelijk in de env file) de naam van je app aanpassen en overal waar je <code>env(&quot;APP_NAME&quot;)</code> gebruikt zal dit automatisch aangepast worden. Ideaal bijvoorbeeld voor titels en dergelijke. (<code>.env</code>-files worden vaak gebruikt om wachtwoorden en api-keys op te slaan. Deze file wordt dan standaard ook niet mee opgenomen in een versiebeheer door de file toe te voegen aan de <code>.gitignore</code> file. Om eventueel andere gebruikers toch te tonen hoe zo een file er moet uitzien geef je dan een <code>.env.example</code> mee in de versiegeschiedenis waar alle sensitieve data verwisseld is met dummy data)</li>
</ul>
<p><figure>
	<a href="../../img/laravel-projectstructure.png" data-featherlight="image">
		<img src="../../img/laravel-projectstructure.png"  alt="laravel-projectstructure" >
	</a>
	
</figure>
</p>
<p><strong>Kort overzicht belangrijke folders</strong></p>
<ul>
<li><code>app</code> folder: Application logic
<ul>
<li><code>Http</code> folder: behandelt http-requests met behulp van <code>Controllers</code> en <code>Models</code></li>
<li><code>Models</code> folder: denk aan modellen in Java</li>
</ul>
</li>
<li><code>database</code> folder: Alles te doen met de database
<ul>
<li><code>factories</code> folder: Hierin worden files geschreven waarmee je dummy modellen kan aanmaken als PHP objecten</li>
<li><code>migrations</code> folder: Hierin komen de files die bepalen hoe je <code>Models</code> omgezet moeten worden naar database tables</li>
<li><code>seeders</code> folder: Hierin worden files geschreven waarmee je de database tabellen kan vullen met dummy data.</li>
</ul>
</li>
<li><code>public</code> folder: Alle files die publicly accessible moeten zijn in onze website zoals <code>javascript</code>, <code>css</code>, <code>images</code></li>
<li><code>resources</code> folder: Hier komen alle resources in zoals css-files en js-files, maar <strong>let op</strong>: in deze map gaat het over css en js code die nog door andere programma&rsquo;s zoals Tailwind of TypeScript gecompileerd moeten worden naar client-side code. Die code wordt dan gecompileerd naar vanilla css en js files die in je <code>public</code>-folder terecht komen!
<ul>
<li><code>views</code> folder: Alle <code>.blade.php</code> (alle HTML) files komen hierin, je kan ook met subfolders werken</li>
</ul>
</li>
<li><code>routes</code> folder: Hierin gaan we al onze endpoints definiëren. Dit is dus hoofdzakelijk server side code.
<ul>
<li><code>web.php</code>: website endpoints die je kan bezoeken</li>
<li><code>api.php</code>: alle HTTP-requests handelen zoals GET, POST, DELETE &hellip;</li>
</ul>
</li>
<li><code>storage</code> folder: alle log files komen hierin. Niet zo belangrijk voorlopig.</li>
<li><code>tests</code> folder: alle testen, gaan we niet dieper op in.</li>
<li><code>.env</code> file: hierin moeten we de gegevens van onze database connectie correct invullen, en kunnen we andere omgevingsvariabelen declareren.</li>
</ul>
<h4 id="routes-webphp">Routes: web.php</h4>
<p>Zoals hierboven vermeld moeten alle routes/endpoints die beschikbaar moeten zijn voor de eindgebruiker hier gedefinieerd worden. Om beveiligingsredenen moet je <code>@csrf</code> vermelden in je form, anders zal je een <code>419 Page Expired: CSRF token missing or invalid</code> error krijgen. Je maakt een functie aan die dan de gewenste HTML code returned, dit kan in de vorm van een html-string zijn of in de vorm van een volledige <code>.blade.php</code> view. Je kan endpoints ook een specifieke naam meegeven met <code>-&gt;name('denaam')</code> zodat je met <code>{{ route('denaam') }}</code> een verwijzing kan maken naar dat endpoint in een <code>&lt;a&gt;</code>-element bijvoorbeeld:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Support\Facades\Route</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">()</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#75af00">view</span><span style="color:#111">(</span><span style="color:#d88200">&#39;welcome&#39;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">})</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/test&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">()</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#d88200">&#34;&lt;h1&gt;Test&lt;/h1&gt;&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#111">});</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">name</span><span style="color:#111">(</span><span style="color:#d88200">&#34;denaam&#34;</span><span style="color:#111">);</span>
</span></span></code></pre></div><p>Je kan ook verschillende parameters opvangen die via GET-requests meegestuurd kunnen worden. Hieronder vind je twee voorbeeld van twee verschillende manieren waarmee je info kan opvangen uit de request. In de eerste methode krijg je de info rechtstreeks uit de URL en in de tweede methode haal je de parameters uit de GET-request zelf. Hiervoor heb je wel een import van de library <code>Illuminate/Http/Request</code> nodig.</p>
<ul>
<li>Voorbeeld 1:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/test/{name}&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">(</span><span style="color:#111">$name</span><span style="color:#111">)</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#d88200">&#34;</span><span style="color:#d88200">$name</span><span style="color:#d88200">&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#111">});</span>
</span></span></code></pre></div><ul>
<li>Voorbeeld 2:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Http\Request</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/test2&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">(</span><span style="color:#75af00">Request</span> <span style="color:#111">$request</span><span style="color:#111">)</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#111">$request</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">query</span><span style="color:#111">(</span><span style="color:#d88200">&#34;name&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">});</span>
</span></span></code></pre></div><p>Verder kan je ook data doorgeven aan blade views die dan gebruikt kan worden in de balde.php met <code>{{ $mijndata }}</code></p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/test3&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">()</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$mijndata</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;Hello world&#34;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#75af00">view</span><span style="color:#111">(</span><span style="color:#d88200">&#39;test3&#39;</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#d88200">&#34;mijndata&#34;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#111">$mijndata</span><span style="color:#111">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">});</span>
</span></span></code></pre></div><h4 id="views-bladephp">Views: blade.php</h4>
<p><strong>Blade</strong> is een krachtige, eenvoudige en flexibele templating engine die standaard wordt meegeleverd met het Laravel PHP-framework. Blade-templates gebruiken een lichte syntaxis die het schrijven van HTML en PHP-code in dezelfde bestanden mogelijk maakt, zonder de noodzaak van complexe PHP-structuren. Dit maakt het eenvoudiger om <strong>dynamische inhoud</strong> te genereren en te beheren. Blade biedt ook handige functies zoals sjabloon-erfenis, secties en weergavecomponenten, waardoor ontwikkelaars herbruikbare en onderhoudbare code kunnen schrijven.</p>
<h5 id="verschillende-bladephp-files-combineren">Verschillende .blade.php files combineren</h5>
<p>Je kan een <code>layout.blade.php</code> aanmaken die als een soort template dient voor alle verschillende pagina&rsquo;s op je website. Hierin definieer je dan alles wat op die webpagina&rsquo;s gemeenschappelijk moet zijn zoals header, footer, menu &hellip; In de layout specificeer je (met <code>@yield('section_naam')</code>) dan waar content moet komen die kan veranderen tussen de verschillende pagina&rsquo;s. Hier een klein voorbeeld:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;!</span><span style="color:#75af00">DOCTYPE</span> <span style="color:#75af00">html</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#75af00">html</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;</span><span style="color:#75af00">head</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">title</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Mijn</span> <span style="color:#75af00">website</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">title</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">link</span> <span style="color:#75af00">href</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;{{ asset(&#39;style.css&#39;) }}&#34;</span> <span style="color:#75af00">rel</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;stylesheet&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">script</span> <span style="color:#75af00">src</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;{{ asset(&#39;script.js&#39;) }}&#34;</span> <span style="color:#75af00">defer</span><span style="color:#f92672">&gt;&lt;/</span><span style="color:#75af00">script</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">yield</span><span style="color:#111">(</span><span style="color:#d88200">&#39;extra_imports&#39;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/</span><span style="color:#75af00">head</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;</span><span style="color:#75af00">body</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">h1</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Mijn</span> <span style="color:#75af00">website</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">h1</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">yield</span><span style="color:#111">(</span><span style="color:#d88200">&#39;content&#39;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/</span><span style="color:#75af00">body</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">html</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><p>Een individuele webpagina die dan de template gebruikt kan er dan als volgt uitzien:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">@</span><span style="color:#00a8c8">extends</span><span style="color:#111">(</span><span style="color:#d88200">&#39;layout&#39;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">@</span><span style="color:#75af00">section</span><span style="color:#111">(</span><span style="color:#d88200">&#39;extra_imports&#39;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;</span><span style="color:#75af00">link</span> <span style="color:#75af00">rel</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;stylesheet&#34;</span> <span style="color:#75af00">href</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">@</span><span style="color:#75af00">stop</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">@</span><span style="color:#75af00">section</span><span style="color:#111">(</span><span style="color:#d88200">&#39;extra_imports&#39;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75af00">Hier</span> <span style="color:#75af00">is</span> <span style="color:#75af00">de</span> <span style="color:#75af00">specifieke</span> <span style="color:#75af00">content</span> <span style="color:#75af00">voor</span> <span style="color:#75af00">deze</span> <span style="color:#75af00">webpagina</span><span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">@</span><span style="color:#75af00">stop</span>
</span></span></code></pre></div><p>Merk op dat je nu dus heel overzichtelijke code kan schrijven door verschillende delen op te splitsen en dat je het aantal gedupliceerde code sterk verminderd. Zo moet je op zo weinig mogelijk plaatsen iets aanpassen.</p>
<p>Met <code>@extends('blade_naam')</code> geef je aan welke file je wil uitbreiden en met de <code>@section('section_naam')</code> en <code>@stop</code> kan je dan specifieke content injecteren. Als je gewoon een hele file wil includen kan je <code>@include('file_name')</code> gebruiken. Zitten je files in een specifieke directory dan kan je de directories scheiden met een <code>.</code> bijvoorbeel <code>@extends('layouts.layout')</code> als de <code>layout.blade.php</code> in een subfolder <code>layouts</code> zit.</p>
<p>Verder kan je nog veel meer doen met die blade files zoals, <code>if-else</code> statements toevoegen en/of <code>for</code>- en <code>while</code>-loops. Een voorbeeld hiervan vind je hieronder:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;!</span><span style="color:#75af00">DOCTYPE</span> <span style="color:#75af00">html</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#75af00">html</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#75af00">head</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">title</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Blade</span> <span style="color:#75af00">Control</span> <span style="color:#75af00">Structures</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">title</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">head</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#75af00">body</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">h1</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">User</span> <span style="color:#75af00">Status</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">h1</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">if</span> <span style="color:#111">(</span><span style="color:#111">$name</span> <span style="color:#f92672">==</span> <span style="color:#d88200">&#34;arne&#34;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Welcome</span><span style="color:#111">,</span> <span style="color:#75af00">Admin</span> <span style="color:#75af00">Arne</span><span style="color:#f92672">!&lt;/</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">elseif</span> <span style="color:#111">(</span><span style="color:#111">$name</span> <span style="color:#f92672">==</span> <span style="color:#d88200">&#34;frank&#34;</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Welcome</span><span style="color:#111">,</span> <span style="color:#75af00">Editor</span> <span style="color:#75af00">Frank</span><span style="color:#f92672">!&lt;/</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">else</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Welcome</span><span style="color:#111">,</span> <span style="color:#75af00">Guest</span><span style="color:#f92672">!&lt;/</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">endif</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">h2</span><span style="color:#f92672">&gt;</span><span style="color:#00a8c8">For</span> <span style="color:#75af00">Loop</span> <span style="color:#75af00">Example</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">h2</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">for</span> <span style="color:#111">(</span><span style="color:#111">$i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span> <span style="color:#111">$i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span><span style="color:#111">;</span> <span style="color:#111">$i</span><span style="color:#f92672">++</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Iteration</span><span style="color:#f92672">:</span> <span style="color:#111">{{</span> <span style="color:#111">$i</span> <span style="color:#111">}}</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">endfor</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;</span><span style="color:#75af00">h2</span><span style="color:#f92672">&gt;</span><span style="color:#00a8c8">While</span> <span style="color:#75af00">Loop</span> <span style="color:#75af00">Example</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">h2</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">$count</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#75af00">endphp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">while</span> <span style="color:#111">(</span><span style="color:#111">$count</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span><span style="color:#75af00">Count</span><span style="color:#f92672">:</span> <span style="color:#111">{{</span> <span style="color:#111">$count</span> <span style="color:#111">}}</span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">p</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">@</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>            <span style="color:#111">$count</span><span style="color:#f92672">++</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">@</span><span style="color:#75af00">endphp</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">@</span><span style="color:#00a8c8">endwhile</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">body</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">html</span><span style="color:#f92672">&gt;</span>
</span></span></code></pre></div><h4 id="components">Components</h4>
<p>Je kan verschillende (korte) <code>.blade.php</code> code genereren die als custom snippets dienen binnenin je andere views zoals bijvoorbeeld een <code>blogpost.blade.php</code> bevat alle code om een een soort kaartje aan te maken met de blogpost titel, text en auteur. Je kan zo verschillende snippets als <code>Components</code> (bouwblokken) waarmee je dan grotere webpagina&rsquo;s kan opbouwen. Meestal groeperen we die components onder een subfolder genaamd <code>components</code> in de views folder.</p>
<p>Bijvoorbeeld:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Component
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">{{</span><span style="color:#f92672">--</span> <span style="color:#75af00">resources</span><span style="color:#f92672">/</span><span style="color:#75af00">views</span><span style="color:#f92672">/</span><span style="color:#75af00">components</span><span style="color:#f92672">/</span><span style="color:#75af00">alert</span><span style="color:#f92672">.</span><span style="color:#75af00">blade</span><span style="color:#f92672">.</span><span style="color:#75af00">php</span> <span style="color:#f92672">--</span><span style="color:#111">}}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;</span><span style="color:#75af00">div</span> <span style="color:#75af00">class</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;alert alert-{{ </span><span style="color:#d88200">$type</span><span style="color:#d88200"> }}&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#111">{{</span> <span style="color:#111">$message</span> <span style="color:#111">}}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/</span><span style="color:#75af00">div</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Usage
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#f92672">@</span><span style="color:#00a8c8">include</span><span style="color:#111">(</span><span style="color:#d88200">&#39;components.alert&#39;</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#d88200">&#39;type&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#d88200">&#39;success&#39;</span><span style="color:#111">,</span> <span style="color:#d88200">&#39;message&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#d88200">&#39;Operation completed!&#39;</span><span style="color:#111">])</span>
</span></span></code></pre></div><p>In Laravel kan je echter ook specifieke components aanmaken gecombineerd met een PHP Model voor de logica en dan op een zeer beknopte manier gebruiken in je project. Een voorbeeld hiervan kan een mooi gestylede button zijn. Dit gaan we hier echter niet</p>
<h3 id="dump-var_dump-en-dd">dump(), var_dump() en dd()</h3>
<p>Je kan op drie verschillende manieren data &ldquo;loggen&rdquo; in Laravel:</p>
<ul>
<li><code>var_dump($variabelenaam)</code>: een droge printout met minimale informatie over het type en de waarde van de variabele.</li>
<li><code>dump($variabelenaam)</code>: een mooier geformatteerde printout van de variabel waarmee je het hele object kan inspecteren.</li>
<li><code>dd($variabelenaam)</code>: een printout zoals <code>dump()</code> maar verdere uitvoering van PHP-code wordt gehalt. Dit kan handig zijn wanneer verdere PHP code een error oproept in Laravel.</li>
</ul>
<h2 id="laravel-mvc-en-database">Laravel MVC en Database</h2>
<p>Je zal je wellicht nog herinneren dat we in het vak Software Ontwerp in Java er op gehamerd werd dat we een goede architecture willen gebruiken voor onze applicaties om ze meer leesbaar, onderhoudbaar, schaalbaar, &hellip; te maken. In Java gebruikten we het <strong>Model-View-Controller</strong> (MVC) principe waarbij de logica van onze applicatie gedefinieerd stond in Modellen, wat de gebruiker te zien krijgt gedefinieerd stond in de Views en de interactie van de gebruiker met de modellen nooit rechtstreeks gebeurde maar altijd via een Controller die dan ook voor een update van de views ging zorgen. We hebben geluk want deze architectuur zit nu ook al sterk verweven in het Laravel framework. De Views (<code>.blade.php</code>) hebben we hierboven al besproken en nu gaan we verder met de Controller (<code>PHP class</code>). Hierna zullen we het over de Modellen (<code>PHP class</code>) hebben aangezien we het tegelijk over database integratie moeten hebben, aangezien Model creation en database migration sterk verweven zijn in Laravel.</p>
<h3 id="controllers">Controllers</h3>
<p>In webapplicaties gemaakt met PHP gaat de interactie met de gebruiker voornamelijk via HTTP-requests verlopen. De logica van wat er juist bij welke request moet gebeuren gaan we nu organiseren in aparte Controller klassen. Een controller is meestal gekoppeld aan een Model, maar je kan echter ook een standalone controller maken in Laravel met het volgende commando: <code>php artisan make:controller TestController</code></p>
<p>Er wordt een <code>TestController.php</code>-klasse aangemaakt in de <code>app/Http/controllers</code>-directory, met al de correcte boilerplate code. Hieronder zie je een voorbeeld van de implementatie van deze TestController die een GET-request behandelt waar enkel een <code>naam</code>-parameter is meegegeven:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">namespace</span> <span style="color:#75af00">App\Http\Controllers</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Http\Request</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">class</span> <span style="color:#75af00">TestController</span> <span style="color:#00a8c8">extends</span> <span style="color:#75af00">Controller</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">function</span> <span style="color:#75af00">handleNameRequest</span><span style="color:#111">(</span><span style="color:#75af00">Request</span> <span style="color:#111">$request</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">$name</span> <span style="color:#f92672">=</span> <span style="color:#111">$request</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">query</span><span style="color:#111">(</span><span style="color:#d88200">&#34;name&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75af00">dump</span><span style="color:#111">(</span><span style="color:#111">$request</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#00a8c8">return</span> <span style="color:#75af00">view</span><span style="color:#111">(</span><span style="color:#d88200">&#39;hi&#39;</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#d88200">&#39;name_example&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#111">$name</span><span style="color:#111">]);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span></code></pre></div><p>Om deze functionaliteit te gebruiken in onze <code>web.php</code>, waar we nu dus <strong>geen logica gaan schrijven maar enkel de requests gaan forwarden naar de juiste controller functie</strong>, moeten we de controller klasse importeren en gebruiken op de volgende manier:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Support\Facades\Route</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Http\Request</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">App\Http\Controllers\TestController</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/process-form-controller&#39;</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#75af00">TestController</span><span style="color:#f92672">::</span><span style="color:#75af00">class</span><span style="color:#111">,</span> <span style="color:#d88200">&#39;handleNameRequest&#39;</span><span style="color:#111">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ZONDER CONTROLLER
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/process-form&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">(</span><span style="color:#75af00">Request</span> <span style="color:#111">$request</span><span style="color:#111">)</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">$name</span> <span style="color:#f92672">=</span> <span style="color:#111">$request</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">query</span><span style="color:#111">(</span><span style="color:#d88200">&#34;name&#34;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75af00">dump</span><span style="color:#111">(</span><span style="color:#111">$request</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">return</span> <span style="color:#75af00">view</span><span style="color:#111">(</span><span style="color:#d88200">&#39;hi&#39;</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#d88200">&#39;name_example&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#111">$name</span><span style="color:#111">]);</span>
</span></span><span style="display:flex;"><span><span style="color:#111">});</span>
</span></span></code></pre></div><h3 id="database">Database</h3>
<p><strong><em>Zorg ervoor dat je MySQL database van XAMPP aanstaat</em></strong></p>
<p>We hebben bij het aanmaken van ons Laravel project al aangeduid dat we een database willen connecteren. Er wordt dan ook specifiek voor dat Laravel project een database gecreëerd in je database onder <code>laravel -&gt; project_naam</code>. Indien je gewenst kan je ook eerst zelf deze database aanmaken. We gaan zo dadelijk ook nog zien hoe je eventueel een andere database kan koppelen.</p>
<p>Alle info om een correcte verbinding te maken wordt opgeslagen in de <code>.env</code>-file. Krijg je een error, dan moet je dus kijken of alle instellingen voor jouw database hier correct ingevuld zijn. De waarden die hier staan worden gebruikt in de <code>config/database.php</code> file. Hieronder vind je een voorbeeld:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-env" data-lang="env"><span style="display:flex;"><span><span style="color:#111">DB_CONNECTION</span><span style="color:#f92672">=</span>mysql
</span></span><span style="display:flex;"><span><span style="color:#111">DB_HOST</span><span style="color:#f92672">=</span>127.0.0.1
</span></span><span style="display:flex;"><span><span style="color:#111">DB_PORT</span><span style="color:#f92672">=</span><span style="color:#ae81ff">3306</span>
</span></span><span style="display:flex;"><span><span style="color:#111">DB_DATABASE</span><span style="color:#f92672">=</span>database_naam
</span></span><span style="display:flex;"><span><span style="color:#111">DB_USERNAME</span><span style="color:#f92672">=</span>root
</span></span><span style="display:flex;"><span><span style="color:#111">DB_PASSWORD</span><span style="color:#f92672">=</span>
</span></span></code></pre></div><p>Door de <code>DB_DATABASE=</code> variabele dus een andere waarde te geven kan je connecteren met een andere database.</p>
<p>Om je connectie met de database te testen kan je <code>php artisan migrate:status</code> gebruiken. Dit geeft een error als er een probleem is.</p>
<p>Heb je een wijziging aangebracht aan de instellingen van je database in de .env file of heb je migration tables gewijzigd, verwijderd of toegevoegd? Gebruik dan <code>php artisan migrate</code> om die wijzigingen te synchroniseren met de database.</p>
<h3 id="models">Models</h3>
<p>Nu gaan we een model aanmaken in Laravel. Aangezien de link tussen modellen en de database zo groot is gaan we bijna altijd ook onmiddellijk een migration table mee laten genereren met de <code>-m</code> flag. (Migration tables zijn files waarin we uitleggen hoe de link tussen het model en de database tabel moet gelegd worden. Hierover meer hieronder):</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php artisan make:model &lt;modelName&gt; -m
</span></span></code></pre></div><p>Er wordt een model klasse aangemaakt in <code>app/Models</code> en een bijhorende migration file in <code>database/migrations</code>.</p>
<p>We geven hieronder een voorbeeld voor een <code>Student</code> model dat we al verder uitgewerkt hebben met de juiste datamembers:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">namespace</span> <span style="color:#75af00">App\Models</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Database\Eloquent\Model</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">class</span> <span style="color:#75af00">Student</span> <span style="color:#00a8c8">extends</span> <span style="color:#75af00">Model</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Define the primary key (studnr instead of default &#39;id&#39;)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#00a8c8">protected</span> <span style="color:#111">$primaryKey</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#39;studnr&#39;</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Fields that can be mass-assigned
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#00a8c8">protected</span> <span style="color:#111">$fillable</span> <span style="color:#f92672">=</span> <span style="color:#111">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d88200">&#39;voornaam&#39;</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d88200">&#39;naam&#39;</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d88200">&#39;goedBezig&#39;</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">];</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// Cast &#39;goedBezig&#39; to boolean
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#00a8c8">protected</span> <span style="color:#111">$casts</span> <span style="color:#f92672">=</span> <span style="color:#111">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#d88200">&#39;goedBezig&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#d88200">&#39;boolean&#39;</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">];</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span></code></pre></div><p><strong>Merk op dat we in het model al rekening houden met hoe de modellen opgeslagen worden in de database:</strong></p>
<ul>
<li>We geven de attributen mee maar specificeren hun rol binnen de tabel ook zo wordt de <code>studnr</code> de <code>$primaryKey</code>.</li>
<li>Andere attributen/kolommen geven we op onder <code>$fillable</code></li>
<li>Databases zoals MySQL slaan booleans op als integers (0/1) of true/false (afhankelijk van de driver). Door <code>$casts = ['goedBezig' =&gt; 'boolean'];</code> te gebruiken verzekeren we dat de waar geconverteerd wordt naar een PHP boolean bij het ophalen uit de database en de waarde als een integer wordt opgeslagen in de database.</li>
</ul>
<p>Merk op dat je hier geen info vind over bijvoorbeeld het type van <code>naam</code> en <code>voornaam</code>. Dit is allemaal gespecificeerd binnenin de <code>migration table</code></p>
<h3 id="migration-tables">Migration tables</h3>
<p>De migration table die bij voorgaande voorbeeld hoort hebben we aangevuld om te passen bij het <code>Student</code> model en ziet er als volgt uit:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#75af00">php</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Database\Migrations\Migration</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Database\Schema\Blueprint</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Support\Facades\Schema</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">return</span> <span style="color:#00a8c8">new</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">extends</span> <span style="color:#75af00">Migration</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">function</span> <span style="color:#75af00">up</span><span style="color:#111">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75af00">Schema</span><span style="color:#f92672">::</span><span style="color:#75af00">create</span><span style="color:#111">(</span><span style="color:#d88200">&#39;students&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">function</span> <span style="color:#111">(</span><span style="color:#75af00">Blueprint</span> <span style="color:#111">$table</span><span style="color:#111">)</span> <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Custom primary key (studnr) as auto-incrementing integer
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#111">$table</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">integer</span><span style="color:#111">(</span><span style="color:#d88200">&#39;studnr&#39;</span><span style="color:#111">)</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">autoIncrement</span><span style="color:#111">()</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">primary</span><span style="color:#111">();</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// voornaam (string, NOT NULL)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#111">$table</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">string</span><span style="color:#111">(</span><span style="color:#d88200">&#39;voornaam&#39;</span><span style="color:#111">)</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">nullable</span><span style="color:#111">(</span><span style="color:#00a8c8">false</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// achternaam (string, nullable)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#111">$table</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">string</span><span style="color:#111">(</span><span style="color:#d88200">&#39;achternaam&#39;</span><span style="color:#111">)</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">nullable</span><span style="color:#111">();</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// goedBezig (boolean with default value)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#111">$table</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">boolean</span><span style="color:#111">(</span><span style="color:#d88200">&#39;goedBezig&#39;</span><span style="color:#111">)</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">default</span><span style="color:#111">(</span><span style="color:#00a8c8">false</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">// Timestamps (created_at and updated_at)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>            <span style="color:#111">$table</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">timestamps</span><span style="color:#111">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#111">});</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">function</span> <span style="color:#75af00">down</span><span style="color:#111">()</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#75af00">Schema</span><span style="color:#f92672">::</span><span style="color:#75af00">dropIfExists</span><span style="color:#111">(</span><span style="color:#d88200">&#39;students&#39;</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>    <span style="color:#111">}</span>
</span></span><span style="display:flex;"><span><span style="color:#111">};</span>
</span></span></code></pre></div><p><strong>BELANGRIJIK</strong> voer <code>php artisan migrate</code> uit om de wijzigingen te synchroniseren met de database!</p>
<p>Je kan nu studenten createn, readen, updaten en deleten (C-R-U-D)  met onderstaande PHP code:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Create student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">$student</span> <span style="color:#f92672">=</span> <span style="color:#75af00">Student</span><span style="color:#f92672">::</span><span style="color:#75af00">create</span><span style="color:#111">([</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d88200">&#39;voornaam&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#d88200">&#39;John&#39;</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d88200">&#39;achternaam&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#d88200">&#39;Doe&#39;</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#d88200">&#39;goedBezig&#39;</span> <span style="color:#f92672">=&gt;</span> <span style="color:#00a8c8">true</span><span style="color:#111">,</span>
</span></span><span style="display:flex;"><span><span style="color:#111">]);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Read: Query students
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">$students</span> <span style="color:#f92672">=</span> <span style="color:#75af00">Student</span><span style="color:#f92672">::</span><span style="color:#75af00">where</span><span style="color:#111">(</span><span style="color:#d88200">&#39;goedBezig&#39;</span><span style="color:#111">,</span> <span style="color:#00a8c8">true</span><span style="color:#111">)</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">get</span><span style="color:#111">();</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Update student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">//$data (bv. [&#39;voornaam&#39; =&gt; &#39;Jan&#39;, &#39;goedBezig&#39; =&gt; false])
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Zoek de student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">$student</span> <span style="color:#f92672">=</span> <span style="color:#75af00">Student</span><span style="color:#f92672">::</span><span style="color:#75af00">find</span><span style="color:#111">(</span><span style="color:#111">$studnr</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Update de velden
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">$student</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">update</span><span style="color:#111">(</span><span style="color:#111">$data</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// Delete student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75715e">// Zoek de student
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">$student</span> <span style="color:#f92672">=</span> <span style="color:#75af00">Student</span><span style="color:#f92672">::</span><span style="color:#75af00">find</span><span style="color:#111">(</span><span style="color:#111">$studnr</span><span style="color:#111">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Verwijderen
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#111">$student</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">delete</span><span style="color:#111">();</span>
</span></span></code></pre></div><p><strong><em>Nog veel meer info over migration tables vind je in de <a href="https://laravel.com/docs/12.x/migrations#migration-structure">documentatie</a>!</em></strong></p>
<h3 id="api-routes-controller">Api routes: Controller</h3>
<p>Wanneer we bijvoorbeeld achtergrond logica willen laten draaien zonder noodzakelijk de view aan te passen worden dit meestal api-endpoints genoemd (Application Programming Interface) Die endpoints die we hiervoor aanspreken steken we dan meestal in een <code>api.web</code> file in de <code>routes</code> folder. Je kan de endpoints dan bereiken via <code>/api/endpoint</code>. In het algemeen:</p>
<ul>
<li><code>web.php</code> voor web forms, Blade views en stateful interactions.</li>
<li><code>api.php</code> voor stateless API endpoints.</li>
</ul>

<div class="notices important" ><p>Om de api.php file te laten genereren en alle instellingen correct te zetten moet je <code>php artisan install:api</code> gebruiken.</p>
<p>Bovendien kan je met <code>php artisan route:list</code> bekijken welke endpoints allemaal beschikbaar zijn voor je Laravel webapplicatie</p>
</div>

<p>Zo kunnen we voor het studenten voorbeeld een <code>/studenten</code> endpoint hebben met formulieren om studenten aan te maken, op te vragen, te updaten en te deleten. De route <code>/studenten</code> komt dan in de <code>web.php</code> te staan aangezien deze de view teruggeeft met de verschillende forms, maar de endpoints die door de forms opgeroepen worden, zitten dan in de <code>api.php</code> bv. <code>/api/create_student</code>, <code>/api/get_students</code>, <code>/api/update_student</code>, <code>/api/delete_student</code></p>
<p>Aangezien je dus vaak acties wil uitvoeren op de modellen heb je vaak een controller om die acties uit te voeren. De controller heeft dan een naamgeving in de aard van <code>ModelnaamController</code>. Je kan nu rechtstreeks bij het aanmaken van een model ook nog een leeg controller skeleton voor dat model laten genereren met de <code>-c</code> flag:</p>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>php artisan make:model ModelNaam -mc
</span></span></code></pre></div>
<div class="notices note" ><p>Je kan zelfs nog meer heavy lifting over laten aan Laravel/artisan door de <code>-cr</code> flag te gebruiken wat een <code>Resource Controller</code>-klasse aanmaakt waar ook al boilerplate code voor CRUD methoden aanwezig zijn.</p>
</div>

<h4 id="een-simpele-crud-application">Een simpele CRUD application</h4>
<p>Een voorbeeld van hoe de api.php en Controller kunnen samenwerken vind je hieronder:</p>
<ul>
<li>Routes</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#75715e">// Send a student object to a controller method
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#00a8c8">use</span> <span style="color:#75af00">App\Http\Controllers\StudentController</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span><span style="color:#00a8c8">use</span> <span style="color:#75af00">Illuminate\Support\Facades\Route</span><span style="color:#111">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75af00">Route</span><span style="color:#f92672">::</span><span style="color:#75af00">get</span><span style="color:#111">(</span><span style="color:#d88200">&#39;/students/{student}&#39;</span><span style="color:#111">,</span> <span style="color:#111">[</span><span style="color:#75af00">StudentController</span><span style="color:#f92672">::</span><span style="color:#75af00">class</span><span style="color:#111">,</span> <span style="color:#d88200">&#39;show&#39;</span><span style="color:#111">]);</span>
</span></span></code></pre></div><ul>
<li>Controller</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">function</span> <span style="color:#75af00">show</span><span style="color:#111">(</span><span style="color:#75af00">Student</span> <span style="color:#111">$student</span><span style="color:#111">)</span>
</span></span><span style="display:flex;"><span><span style="color:#111">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// De $student wordt automatisch opgehaald op basis van studnr
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#75af00">dd</span><span style="color:#111">(</span><span style="color:#75af00">response</span><span style="color:#111">()</span><span style="color:#f92672">-&gt;</span><span style="color:#75af00">json</span><span style="color:#111">(</span><span style="color:#111">$student</span><span style="color:#111">));</span>
</span></span><span style="display:flex;"><span><span style="color:#111">}</span>
</span></span></code></pre></div><h5 id="oefening">Oefening</h5>
<p>Maak de nodige views, controllers, modellen, migration tables en routes aan om het voorbeeld van een CRUD aan te maken voor de gedemonstreerde <code>Student</code>-klasse in Laravel</p>
<!-- TODO
### Factory

### Seeders

## Putting it all together: simple CRUD application TennisVlaanderen + pictures opslaan

### CORS -->
<!-- Other page: session management, authentication, tokens and cookies + Security + casus uitwerken-->

</article>

<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../backend/php_oop/" title="OOP in PHP"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../backend/laravel_cheatsheet/" title="Laravel Cheatsheet" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1742992144"></script>
    <script src="../../js/perfect-scrollbar.min.js?1742992144"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1742992144"></script>
    <script src="../../js/jquery.sticky.js?1742992144"></script>
    <script src="../../js/featherlight.min.js?1742992144"></script>
    <script src="../../js/modernizr.custom-3.6.0.js?1742992144"></script>
    <script src="../../js/learn.js?1742992144"></script>
    <script src="../../js/hugo-learn.js?1742992144"></script>
    <script src="../../js/mermaid.min.js?1742992144"></script>
    <script>
    window.MathJax = {
      chtml: {
        scale: 1,                      
        minScale: .5,                  
        matchFontHeight: true,         
        mtextInheritFont: false,       
        merrorInheritFont: true,       
        mathmlSpacing: false,          
        skipAttributes: {},            
        exFactor: .5,                  
        displayAlign: 'center',        
        displayIndent: '0'             
      }
    };
    </script>
    
    

  </body>
</html>

